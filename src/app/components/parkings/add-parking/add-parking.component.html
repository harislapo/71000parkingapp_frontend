<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-12 col-sm-12 col-md-8 col-lg-8">
      <form class="form-container" (ngSubmit)="addNewParking(f)" #f="ngForm">
        <h2 class="text-center">Add new parking </h2>
        <hr class="my-4 w-75" />
        <div class="form-row">
          <div class="form-group col-md-6">
            <input
              [(ngModel)]="parking.name"
              name="name"
              type="text"
              class="form-control"
              id="name"
              placeholder="Name"
              required
              #name="ngModel"
            />
            <span class="help-block" *ngIf="!name.valid && name.touched"
              >Please enter name!</span
            >
          </div>
          <div class="form-group col-md-6">
            <input
              [(ngModel)]="parking.address"
              name="address"
              type="text"
              class="form-control"
              id="address"
              placeholder="Address"
              required
              #address="ngModel"
            />
            <span class="help-block" *ngIf="!address.valid && address.touched"
              >Please enter address!</span
            >
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-4">
            <input
              [(ngModel)]="parking.price"
              name="price"
              type="number"
              step="0.5"
              class="form-control"
              id="price"
              placeholder="Price/hour"
              required
              #price="ngModel"
              pattern="^[0-9.]*$"
            />
            <span class="help-block" *ngIf="!price.valid && price.touched"
              >Please enter price!</span
            >
          </div>
          <div class="form-group col-md-4">
            <input
              [(ngModel)]="parking.spaces"
              name="spaces"
              type="number"
              class="form-control"
              id="spaces"
              placeholder="Parking spaces (Ex. 150)"
              required
              #spaces="ngModel"
              pattern="^[1-9]+[0-9]*$"
            />
            <span class="help-block" *ngIf="!spaces.valid && spaces.touched"
              >Please enter number of spaces!</span
            >
          </div>
          <div class="form-group col-md-4">
            <input
              [(ngModel)]="parking.security"
              name="security"
              type="text"
              class="form-control"
              id="security"
              placeholder="Security (Yes/No)"
              required
              #security="ngModel"
            />
            <span class="help-block" *ngIf="!security.valid && security.touched"
              >Please enter security!</span
            >
          </div>
        </div>
        <div class="form-group">
          <textarea
            [(ngModel)]="parking.description"
            name="description"
            id="description"
            rows="5"
            class="form-control"
            placeholder="Description"
            required
            #description="ngModel"
          ></textarea>
          <span
            class="help-block"
            *ngIf="!description.valid && description.touched"
            >Please enter description!</span
          >
        </div>
        <div class="form-group">
          <input
            [(ngModel)]="parking.shortDescription"
            name="shortDescription"
            type="text"
            class="form-control"
            id="shortDescription"
            placeholder="Short description in five-six words.."
            required
            #shortDescription="ngModel"
          />
          <span
            class="help-block"
            *ngIf="!shortDescription.valid && shortDescription.touched"
            >Please enter short description!</span
          >
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <input
              [(ngModel)]="parking.parkingLocated"
              name="parkingLocated"
              type="text"
              class="form-control"
              id="parkingLocated"
              placeholder="Parking location (Ex. Marijin Dvor)"
              required
              #parkingLocated="ngModel"
            />
            <span
              class="help-block"
              *ngIf="!parkingLocated.valid && parkingLocated.touched"
              >Please enter parking location!</span
            >
          </div>
          <div class="form-group col-md-6">
            <input
              [(ngModel)]="parking.parkingType"
              name="parkingType"
              type="text"
              class="form-control"
              id="parkingType"
              placeholder="Indoor or outdoor"
              required
              #parkingType="ngModel"
            />
            <span
              class="help-block"
              *ngIf="!parkingType.valid && parkingType.touched"
              >Please enter parking type!</span
            >
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <input
              [(ngModel)]="parking.image"
              name="image"
              type="text"
              class="form-control"
              id="image"
              placeholder="Image URL"
              required
              #image="ngModel"
            />
            <span class="help-block" *ngIf="!image.valid && image.touched"
              >Please enter image URL!</span
            >
          </div>
          <div class="form-group col-md-4">
            <input
              [(ngModel)]="parking.openingHours"
              name="openingHours"
              type="number"
              class="form-control"
              id="openingHours"
              required
              placeholder="Opening hours"
              #openingHours="ngModel"
              pattern="^([0-1]?[0-9]|2[0-4])$"
            />
            <span
              class="help-block"
              *ngIf="!openingHours.valid && openingHours.touched"
              >Please enter opening hours!</span
            >
          </div>
          <div class="form-group col-md-4">
            <input
              [(ngModel)]="parking.closingHours"
              name="closingHours"
              type="number"
              class="form-control"
              id="closingHours"
              required
              placeholder="Closing hours"
              #closingHours="ngModel"
              pattern="^([0-1]?[0-9]|2[0-4])$"
            />
            <span
              class="help-block"
              *ngIf="!closingHours.valid && closingHours.touched"
              >Please enter closing hours!</span
            >
          </div>
        </div>

        <div>
          <h4 class="text-center">Where is it located on the map?</h4>
          <agm-map
            [zoom]="zoom"
            [latitude]="initLat"
            [longitude]="initLng"
            (mapClick)="onChooseLocation($event)"
          >
            <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
          </agm-map>
        </div>
        <div class="text-center mt-4">
          <button
            type="submit"
            class="btn btn-primary mr-2"
            [disabled]="!f.valid"
          >
            Add
          </button>
          <button type="reset" class="btn btn-danger">Reset</button>
        </div>
      </form>
    </div>
  </div>
</div>
